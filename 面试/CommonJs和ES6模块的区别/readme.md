# CommonJS模块与ES6模块的区别

## CommonJS

- 基础数据类型会被复制，同时可以在另外一个模块中更改

- 复杂数据类型会浅拷贝，修改会影响另外一个模块

- 使用require加载某一个模块时，就会运行整个模块的代码

- 重复加载一个模块，会读取缓存，无论加载多少次，只会执行一次，以后再加载，就会返回第一次运行的结果，除非手动清除缓存

- 循环加载时，属于加载时执行，即脚本代码在require的时候，就会全部执行，一旦出现某个模块被“循环加载”，就输出已执行部分，不输出未执行部分

## ES6模块

- ES6模块中的值属于【动态只读引用】

- 对于只读来说，即不允许修改引入变量的值，import的变量是只读的，无论是基础数据类型还是复杂数据类型，当模块遇到import命令时，就只会生成一个只读引用，等到脚本真正执行时，再根据这个只读引用，到被加载的那个模块里面去取值

- 对于动态来说，原始值发生变化，import加载的值也会发生变化，无论是基本数据类型还是复杂数据类型

- 循环加载时，ES6是动态引用，只要两个模块之间存在某个引用，代码就能执行

