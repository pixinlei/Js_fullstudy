<script>
  // 弱引用
  // 强引用
  let obj = {
    a: 'A'
  } // 有 obj 引用着它，不会被回收
  let wm = new WeakMap()
  wm.set(obj , 'A')
  obj = null

  function foo() {
    let obj2 = {}
    wm.set(obj2, 'B')
  }
</script>
<script>
  setTimeout(() => {
    console.log(1);
  },0)
  console.log(2);
  new Promise((resolve,reject) => {
    console.log(3);
    resolve()
  }).then(res => {
    console.log(4);
  })
  console.log("end");
</script>